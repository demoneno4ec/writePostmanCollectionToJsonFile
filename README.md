# postman_collection_to_json

## Описание
Инструмент для получения коллекции из постмана, для последующего запуска newman 

## Переменные окружения
| Ключ                 | Описание                                                                                         |
|----------------------|--------------------------------------------------------------------------------------------------|
| POSTMAN_API_KEY      | Ключ доступа до API postman [Инструкция](https://learning.postman.com/docs/developer/intro-api/) |
| POSTMAN_WORKSPACE_ID | Значение workspaceId для чтения коллекций, исключительно для экономии запросов к API             |

## Входные параметры

| Ключ     | Тип     | Описание                                                                                         |
|----------|---------|--------------------------------------------------------------------------------------------------|
| path     | string  | Путь до файла, куда записать коллекцию, валидный путь с доступом на запись                       |
| branch   | ?string | Если не передан или указанный форк не существует, будет взята родительская коллекция, аля master |
| filename | ?string | Если не задано, название по умолчанию default.json                                               |

## Алгоритм
1. Валидация входных параметров
2. Если форк не найден, вывод сообщения, что форк указаной векти не найден
3. Получения списка коллекций, по workspaceId
4. Получение коллекции по переданой ***branch***
5. Запись полученного результата в ***filename*** 

### Правила валидации
1. POSTMAN_API_KEY
   - Если не задан, выдаст ошибку и прекратит выполнение
2. POSTMAN_WORKSPACE_ID
   - Если не задан, выдаст ошибку и прекратит выполнение
3. path
   - Директория должна быть
   - Директория должна быть открыта на запись
   - Значение строка
4. branch
   - Значение строка, либо не задано
5. filename
   - Значение строка, либо не задано
   - Разрешенные символы a-Z_.
   - Расширение json

### Пример использования
#### сборка
```shell
go build
```

#### запуск
```shell
./get-collection --path="./" --filename="default.json" --branch=1.0
```